<form class="row py-4">
  <div class="form-group row col-6">
    <label for="TIN" class="col-sm-4 col-form-label">TIN</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        readonly
        id="TIN"
        [(ngModel)]="enterpriseRegistration.tin"
        name="tin"
        placeholder="TIN"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="msE_Code" class="col-sm-4 col-form-label">Mse Code</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="msE_Code"
        [(ngModel)]="enterpriseRegistration.msE_Code"
        name="msE_Code"
        placeholder="Mse Code"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="name" class="col-sm-4 col-form-label">Name</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="name"
        [(ngModel)]="enterpriseRegistration.name"
        name="name"
        placeholder="Name"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="buS_OPP_Loc_Code" class="col-sm-4 col-form-label"
      >Business code</label
    >
    <div class="col-sm-8">
      <p-dropdown
        id="buS_OPP_Loc_Code"
        [options]="businessCodes"
        [(ngModel)]="enterpriseRegistration.buS_OPP_Loc_Code"
        name="buS_OPP_Loc_Code"
        autofocus
        filter="true"
        placeholder="Select Business code"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="enT_Type" class="col-sm-4 col-form-label">ENT Type</label>
    <div class="col-sm-8">      
      <p-dropdown
        id="enT_Type"
        [options]="enterpriseTypes"
        [(ngModel)]="enterpriseRegistration.enT_Type"
        name="enT_Type"
        autofocus
        filter="true"
        placeholder="Select ENT level"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
      
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="capital_In_Birr" class="col-sm-4 col-form-label"
      >Capital in birr</label
    >
    <div class="col-sm-8">
      <input
        type="number"
        class="form-control"
        id="capital_In_Birr"
        [(ngModel)]="enterpriseRegistration.capital_In_Birr"
        name="capital_In_Birr"
        placeholder="Capital in birr"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="ent_Level" class="col-sm-4 col-form-label"> ENT Level</label>
    <div class="col-sm-8">
      <p-dropdown
        id="ent_Level"
        [options]="enterpriseLevels"
        [(ngModel)]="enterpriseRegistration.ent_Level"
        name="ent_Level"
        autofocus
        filter="true"
        placeholder="Select ENT level"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="number_of_Emplyee_Need" class="col-sm-4 col-form-label"
      >No of employees needed</label
    >
    <div class="col-sm-8">
      <input
        type="number"
        class="form-control"
        id="number_of_Emplyee_Need"
        [(ngModel)]="enterpriseRegistration.number_of_Emplyee_Need"
        name="number_of_Emplyee_Need"
        placeholder="No of employees needed"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="vat" class="col-sm-4 col-form-label">Vat</label>
    <div class="col-sm-8">
      <input
        type="number"
        class="form-control"
        id="vat"
        [(ngModel)]="enterpriseRegistration.vat"
        name="vat"
        placeholder="Vat"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="sector" class="col-sm-4 col-form-label"> Sector</label>
    <div class="col-sm-8">
      <p-dropdown
        id="sector"
        [options]="sectors"
        [(ngModel)]="enterpriseRegistration.sector_ID"
        name="sector"
        autofocus
        filter="true"
        placeholder="Select sector"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="region" class="col-sm-4 col-form-label"> Region</label>
    <div class="col-sm-8">
      <p-dropdown
        id="region"
        [options]="regions"
        [(ngModel)]="enterpriseRegistration.region"
        name="region"
        autofocus
        filter="true"
        placeholder="Select region"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="zone" class="col-sm-4 col-form-label"> Zones</label>
    <div class="col-sm-8">
      <p-dropdown
        id="zone"
        [options]="zones"
        [(ngModel)]="enterpriseRegistration.zone"
        name="zone"
        autofocus
        filter="true"
        placeholder="Select zone"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="woreda" class="col-sm-4 col-form-label"> Woredas</label>
    <div class="col-sm-8">
      <p-dropdown
        id="woreda"
        [options]="woredas"
        [(ngModel)]="enterpriseRegistration.woreda"
        name="woreda"
        autofocus
        filter="true"
        placeholder="Select woreda"
      >
        <ng-template let-selectedItem pTemplate="selectedItem">
          {{ selectedItem.label }}
        </ng-template>
        <ng-template let-item pTemplate="item">
          {{ item.label }}
        </ng-template>
      </p-dropdown>
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="hous_No" class="col-sm-4 col-form-label">House no</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="hous_No"
        [(ngModel)]="enterpriseRegistration.hous_No"
        name="hous_No"
        placeholder="House no"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="gM_Name" class="col-sm-4 col-form-label">GM name</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="gM_Name"
        [(ngModel)]="enterpriseRegistration.gM_Name"
        name="gM_Name"
        placeholder="GM name"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="phone1" class="col-sm-4 col-form-label">phone 1</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="phone1"
        [(ngModel)]="enterpriseRegistration.phone1"
        name="phone1"
        placeholder="phone 1"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="phone2" class="col-sm-4 col-form-label">phone 2</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="phone2"
        [(ngModel)]="enterpriseRegistration.phone2"
        name="phone2"
        placeholder="phone 2"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="email" class="col-sm-4 col-form-label">Email</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="email"
        [(ngModel)]="enterpriseRegistration.email"
        name="email"
        placeholder="Email"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="location_x" class="col-sm-4 col-form-label">location x</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="location_x"
        [(ngModel)]="enterpriseRegistration.location_x"
        name="location_x"
        placeholder="location x"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="location_y" class="col-sm-4 col-form-label">location y</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="location_y"
        [(ngModel)]="enterpriseRegistration.location_y"
        name="location_y"
        placeholder="location y"
      />
    </div>
  </div>

  <div class="form-group row col-6">
    <label for="website" class="col-sm-4 col-form-label">website</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="website"
        [(ngModel)]="enterpriseRegistration.website"
        name="website"
        placeholder="website"
      />
    </div>
  </div>

  <div class="col-12">
    <div style="margin-top: 50px"></div>
    <div class="d-flex justify-content-end mr-4 mb-2">
      <!-- <button type="button" class="btn btn-success" (click)="clearForm()">New</button> -->
      <button type="button"
        class="btn btn-primary ml-2"
        *ngIf="editForm"
        (click)="updateEnterpriseRegistration()"
      >
        Update
      </button>
      <button type="button"
        class="btn btn-primary ml-2"
        *ngIf="!editForm"
        (click)="saveData()"
      >
        Save
      </button>
      <button type="button"
        class="btn btn-danger ml-2"
        *ngIf="editForm"
        (click)="deleteEnterpriseRegistration()"
      >
        Delete
      </button>
    </div>
  </div>
</form>

<p-table [value]="enterpriseRegistrations" [paginator]="true" [rows]="5">
  <ng-template pTemplate="header">
    <tr>
      <th scope="col" translate>TIN</th>
      <th scope="col" translate>MSE Code</th>
      <th scope="col" translate>Name</th>
      <th scope="col" translate>vat</th>
      <th scope="col" translate></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-mSEBalanceSheet>
    <tr [ngClass]="{'active': enterpriseRegistration.tin == mSEBalanceSheet.tin}" >
      <td>{{ mSEBalanceSheet.tin }}</td>
      <td>{{ mSEBalanceSheet.msE_Code }}</td>
      <td>{{ mSEBalanceSheet.name }}</td>
      <td>{{ mSEBalanceSheet.vat }}</td>
      <td>
        <button type="button"
          type="button"
          class="btn btn-primary"
          (click)="initiateEdit(mSEBalanceSheet)"
          translate
        >
          edit
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
